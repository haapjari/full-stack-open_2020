{"ast":null,"code":"var _jsxFileName = \"/home/aragorn/University/full-stack-open/Local/osa3/phonebook/src/components/App.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from 'react';\nimport PersonForm from './PersonForm';\nimport Search from './Search';\nimport NumberList from './NumberList';\nimport personService from '../services/persons';\nimport Notification from './Notification';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst App = props => {\n  _s();\n\n  const [persons, setPersons] = useState([]); // newName state is meant for controlling the form input element\n\n  const [newName, setNewName] = useState('');\n  const [newNumber, setNewNumber] = useState('');\n  const [newFilter, setNewFilter] = useState(''); // TODO: Document this functionality.  \n\n  const [newPersonList, setNewPersonList] = useState([]);\n  const [errorMessage, setErrorMessage] = useState('');\n  const [informationMessage, setInformationMessage] = useState('');\n  useEffect(() => {\n    personService.getAll().then(initialPersons => {\n      setPersons(initialPersons);\n    });\n  }, []);\n  /* ------------------------------------------------- */\n\n  const handleNameChange = event => {\n    setNewName(event.target.value);\n  };\n\n  const handleNumberChange = event => {\n    setNewNumber(event.target.value);\n  };\n\n  const handleFilterChange = event => {\n    setNewFilter(event.target.value);\n  };\n  /* ------------------------------------------------- */\n  // This could be moved to NumberList\n\n\n  const addName = event => {\n    event.preventDefault();\n    /* New personObject \n    * \t--> Receives content from components newName state.\n    */\n\n    const personObject = {\n      name: newName.trim(),\n      number: newNumber\n    };\n    /* Duplicate checking functionality. \n    *\t--> checkValue of 0\n    *\t--> Loop over the array\n    *\t--> If there is a duplicate entry in the array\n    *\t\t--> checkValue to 1\n    *\t\t--> Alert that there is already a value on phonebook\n    *\t\t--> Clear State\n    */\n\n    var checkValue = 0;\n\n    for (var i = 0; i < persons.length; i++) {\n      if (persons[i].name === personObject.name) {\n        checkValue = 1;\n      }\n    }\n\n    if (checkValue === 1) {\n      console.log(`${newName} is already added to phonebook`);\n      setErrorMessage(`${newName} is already added to phonebook`);\n      setTimeout(() => {\n        setErrorMessage(null);\n      }, 5000);\n      /*\n      setErrorMessage = (\n      `${newName} is already added to phonebook`\n      )\n      setTimeout(() => {\n      setErrorMessage(null)\n      }, 5000)\n      */\n      // alert(`${newName} is already added to phonebook`)\n\n      setNewName('');\n      setNewNumber('');\n    } else {\n      /* Create personService, which has all the necessary API functionality.\n       * --> Create personObject with contents of the form.\n       *  --> Update Person List status, concat the new object to the list.\n       *  --> Clear the setters.\n       *  --> After this, log the succesfully entered Object's name.\n       */\n      personService.create(personObject).then(returnedPerson => {\n        setPersons(persons.concat(returnedPerson)); // setNewPersonList(persons.concat(returnedPerson))\n\n        setNewName('');\n        setNewNumber('');\n      });\n      setInformationMessage(`${newName} succesfully added to phonebook`);\n      setTimeout(() => {\n        setInformationMessage(null);\n      }, 5000);\n      console.log(`${newName} succesfully added to phonebook`); // TODO: Are these necessary?\n\n      setNewName('');\n      setNewNumber('');\n    }\n  };\n\n  const deletePerson = (name, id) => {\n    return () => {\n      if (window.confirm(`Confirm deletion of ${name}`)) {\n        console.log(\"attempting the delete\");\n        personService.deleteId(id).then(() => {\n          setPersons(persons.filter(n => n.id !== id));\n          setNewName('');\n          setNewNumber('');\n          setInformationMessage(`${name} was succesfully deleted`);\n          setTimeout(() => {\n            setInformationMessage(null);\n          }, 5000);\n          console.log(`deletation of ${name} was succesful`);\n        }).catch(error => {\n          setErrorMessage(`${name} was already deleted from the server`);\n          setTimeout(() => {\n            setErrorMessage(null);\n          }, 5000);\n          setPersons(persons.filter(n => n.name !== name));\n        });\n      }\n    };\n  }; // <PositiveNotification message={errorMessage} /> \n\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Phonebook\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 159,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Notification, {\n      errorMessage: errorMessage,\n      informationMessage: informationMessage\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 161,\n      columnNumber: 2\n    }, this), /*#__PURE__*/_jsxDEV(Search, {\n      newFilter: newFilter,\n      handleFilterChange: handleFilterChange,\n      setNewPersonList: setNewPersonList,\n      persons: persons\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 166,\n      columnNumber: 2\n    }, this), /*#__PURE__*/_jsxDEV(PersonForm, {\n      persons: persons,\n      addName: addName,\n      setPersons: setPersons,\n      newName: newName,\n      setNewName: setNewName,\n      newNumber: newNumber,\n      setNewNumber: setNewNumber,\n      newPersonList: setNewPersonList,\n      setNewPersonList: setNewPersonList,\n      handleNameChange: handleNameChange,\n      handleNumberChange: handleNumberChange\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 173,\n      columnNumber: 2\n    }, this), /*#__PURE__*/_jsxDEV(NumberList, {\n      newPersonList: newPersonList,\n      setPersons: setPersons,\n      persons: persons,\n      deletePerson: deletePerson\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 2\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 158,\n    columnNumber: 5\n  }, this);\n};\n\n_s(App, \"lng1zhbbmrZbM5lspNUkiDaNKLc=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/home/aragorn/University/full-stack-open/Local/osa3/phonebook/src/components/App.js"],"names":["React","useState","useEffect","PersonForm","Search","NumberList","personService","Notification","App","props","persons","setPersons","newName","setNewName","newNumber","setNewNumber","newFilter","setNewFilter","newPersonList","setNewPersonList","errorMessage","setErrorMessage","informationMessage","setInformationMessage","getAll","then","initialPersons","handleNameChange","event","target","value","handleNumberChange","handleFilterChange","addName","preventDefault","personObject","name","trim","number","checkValue","i","length","console","log","setTimeout","create","returnedPerson","concat","deletePerson","id","window","confirm","deleteId","filter","n","catch","error"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from 'react'\nimport PersonForm from './PersonForm'\nimport Search from './Search'\nimport NumberList from './NumberList'\nimport personService from '../services/persons'\nimport Notification from './Notification'\n\nconst App = ( props ) => {\n\n\tconst [persons, setPersons] = useState ([])\n\n\t// newName state is meant for controlling the form input element\n\tconst [newName, setNewName] = useState('')\n\tconst [newNumber, setNewNumber] = useState('')\n\tconst [newFilter, setNewFilter] = useState('')\n\t// TODO: Document this functionality.  \n\tconst [newPersonList, setNewPersonList] = useState([])\n\tconst [errorMessage, setErrorMessage] = useState('')\n\tconst [informationMessage, setInformationMessage] = useState('')\n\t\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons)\n      })\n  }, [])\n\n/* ------------------------------------------------- */\n\n      const handleNameChange = (event) => {\n        setNewName(event.target.value)\n      }\n\n      const handleNumberChange = (event) => {\n        setNewNumber(event.target.value)\n      }\n\n      const handleFilterChange = (event) => {\n        setNewFilter(event.target.value)\n      }\n\n/* ------------------------------------------------- */\n\n\t// This could be moved to NumberList\n      const addName = (event) => {\n       \t event.preventDefault()\n  \n        /* New personObject \n\t * \t--> Receives content from components newName state.\n\t */ \t\n        \tconst personObject = {\n\t          name: newName.trim(),\n        \t  number: newNumber,\n        \t}\t\n        \n        /* Duplicate checking functionality. \n\t *\t--> checkValue of 0\n\t *\t--> Loop over the array\n\t *\t--> If there is a duplicate entry in the array\n\t *\t\t--> checkValue to 1\n\t *\t\t--> Alert that there is already a value on phonebook\n\t *\t\t--> Clear State\n\t */ \n\tvar checkValue = 0 \n        for (var i = 0; i < persons.length; i++) {\n  \n          if (persons[i].name === personObject.name) {\n            checkValue = 1\n          } \n        }\n  \n        if (checkValue === 1) {\n\t\t\tconsole.log(`${newName} is already added to phonebook`)\n\t\t\tsetErrorMessage (\n\t\t\t\t`${newName} is already added to phonebook`\n\t\t\t)\n\t\t\tsetTimeout(() => {\n\t\t\t\tsetErrorMessage(null)\n\t\t\t}, 5000)\n\t\t\t\t/*\n\t\tsetErrorMessage = (\n\t\t\t`${newName} is already added to phonebook`\n\t\t)\n\t\tsetTimeout(() => {\n\t\t\tsetErrorMessage(null)\n\t\t}, 5000)\n\t\t*/\n          // alert(`${newName} is already added to phonebook`)\n          setNewName('') \n          setNewNumber('')\n        } else {\n\n\t/* Create personService, which has all the necessary API functionality.\n\t * --> Create personObject with contents of the form.\n\t *  --> Update Person List status, concat the new object to the list.\n\t *  --> Clear the setters.\n\t *  --> After this, log the succesfully entered Object's name.\n\t */ \n          personService\n          .create(personObject)\n              .then(returnedPerson => {\n              setPersons(persons.concat(returnedPerson))\n              // setNewPersonList(persons.concat(returnedPerson))\n              setNewName('') \n              setNewNumber('')\n          })\n\n    setInformationMessage(\n\t\t`${newName} succesfully added to phonebook`\n\t)\n\tsetTimeout(() => {\n\t\tsetInformationMessage(null)\n\t}, 5000)\n\tconsole.log(`${newName} succesfully added to phonebook`)\n\n\t// TODO: Are these necessary?\n\t  setNewName('')\n          setNewNumber('')\n        }\n    }    \n\n\tconst deletePerson = (name, id) => {\n\t\treturn () => {\n\t\t\tif (window.confirm(`Confirm deletion of ${name}`)) {\n\t\t\t\tconsole.log(\"attempting the delete\")\n\t\t\t\tpersonService \n\t\t\t\t\t.deleteId(id)\n\t\t\t\t.then(() => {\n\t\t\t\t\tsetPersons(persons.filter(n => n.id !== id))\n\t\t\t\t\tsetNewName('')\n\t\t\t\t\tsetNewNumber('')\n\t\t\t\t\tsetInformationMessage(\n\t\t\t\t\t\t`${name} was succesfully deleted`\n\t\t\t\t\t)\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tsetInformationMessage(null)\n\t\t\t\t\t}, 5000)\n\t\t\t\t\tconsole.log(`deletation of ${name} was succesful`)\n\t\t\t\t})\n\t\t\t\t.catch(error => {\n\t\t\t\t\tsetErrorMessage(\n\t\t\t\t\t\t`${name} was already deleted from the server`\n\t\t\t\t\t)\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tsetErrorMessage(null)\n\t\t\t\t\t}, 5000)\n\t\t\t\t\tsetPersons(persons.filter(n => n.name !== name))\n\t\t\t\t})\n\t\t\t}\n\t\t}\n \t}\n\n\t // <PositiveNotification message={errorMessage} /> \n\n  return (\n    <div>\n      <h2>Phonebook</h2>\n\n\t<Notification \n\t\terrorMessage={errorMessage}\n\t\tinformationMessage={informationMessage}\n\t/>\n\t\n\t<Search \n\t\tnewFilter={newFilter}\n\t\thandleFilterChange={handleFilterChange}\n\t\tsetNewPersonList={setNewPersonList}\n\t\tpersons={persons}\n\t/>\n\n\t<PersonForm \n\t\tpersons={persons}\n\t  \taddName={addName}\n\t  \tsetPersons={setPersons}\n\t        newName={newName}\n        \tsetNewName={setNewName}\n\t\tnewNumber={newNumber}\n\t\tsetNewNumber={setNewNumber}\n\t\tnewPersonList={setNewPersonList}\n\t\tsetNewPersonList={setNewPersonList}\n        \thandleNameChange={handleNameChange}\n\t\thandleNumberChange={handleNumberChange}\n\t/>\n\n\t<NumberList \n\t\tnewPersonList={newPersonList}\n\t\tsetPersons={setPersons}\n\t\tpersons={persons}\n\t\tdeletePerson={deletePerson}\n\t/>\n\n    </div>\n  )\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}